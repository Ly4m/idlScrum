<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="fil.iagl.idl.dao.BindStoryTaskDao">
	<resultMap type="fil.iagl.idl.entite.BindStoryTask" id="BindStoryTask_ResultMap">
		<id	property="id" column="bnd_id"/>
		<association property="story" column="bnd_id_story" select="fil.iagl.idl.dao.StoryDao.getById"/>
		<association property="task" column="bnd_id_tsk" select="fil.iagl.idl.dao.TaskDao.getById"/>
	</resultMap>
	
	<select id="getAllByIdStory">
		SELECT bnd_id, bnd_story, bnd_task
		FROM BIND_STORY_TASK
		WHERE bnd_id=#{id}
	</select>
</mapper>